/*! dustjs-linkedin - v2.7.5
* http://dustjs.com/
* Copyright (c) 2021 Aleksander Williams; Released under the MIT License */

!function(t,e){"function"==typeof define&&define.amd&&!0===define.amd.dust?define("dust.core",[],e):"object"==typeof exports?module.exports=e():t.dust=e()}(this,function(){var dust={version:"2.7.5"},NONE="NONE",ERROR="ERROR",WARN="WARN",INFO="INFO",DEBUG="DEBUG",EMPTY_FUNC=function(){},e,d,g,f;function getTemplate(t,e){if(t)return"function"==typeof t&&t.template?t.template:dust.isTemplateFn(t)?t:!1!==e?dust.cache[t]:void 0}function load(e,t,o){if(!e)return t.setError(new Error("No template or template name provided to render"));var r=getTemplate(e,dust.config.cache);return r?r(t,Context.wrap(o,r.templateName)):dust.onLoad?t.map(function(r){var n=e;function t(t,e){if(t)return r.setError(t);if(!(t=getTemplate(e,!1)||getTemplate(n,dust.config.cache))){if(!dust.compile)return r.setError(new Error("Dust compiler not available"));t=dust.loadSource(dust.compile(e,n))}t(r,Context.wrap(o,t.templateName)).end()}3===dust.onLoad.length?dust.onLoad(n,o.options,t):dust.onLoad(n,t)}):t.setError(new Error("Template Not Found: "+e))}function Context(t,e,r,n,o){void 0===t||t instanceof Stack||(t=new Stack(t)),this.stack=t,this.global=e,this.options=r,this.blocks=n,this.templateName=o,this._isContext=!0}function getWithResolvedData(e,r,n){return function(t){return e.push(t)._get(r,n)}}function Stack(t,e,r,n){this.tail=e,this.isObject=t&&"object"==typeof t,this.head=t,this.index=r,this.of=n}function Stub(t){this.head=new Chunk(this),this.callback=t,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(t,e,r){this.root=t,this.next=e,this.data=[],this.flushable=!1,this.taps=r}for(f in dust.config={whitespace:!1,amd:!1,cjs:!1,cache:!0},dust._aliases={write:"w",end:"e",map:"m",render:"r",reference:"f",section:"s",exists:"x",notexists:"nx",block:"b",partial:"p",helper:"h"},d={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},g="undefined"!=typeof console&&console.log?"function"==typeof(e=console.log)?function(){e.apply(console,arguments)}:function(){e(Array.prototype.slice.apply(arguments).join(" "))}:EMPTY_FUNC,dust.log=function(t,e){d[e=e||INFO]>=d[dust.debugLevel]&&g("[DUST:"+e+"]",t)},dust.debugLevel=NONE,"undefined"!=typeof process&&process.env&&/\bdust\b/.test(process.env.DEBUG)&&(dust.debugLevel=DEBUG),dust.helpers={},dust.cache={},dust.register=function(t,e){t&&(e.templateName=t,!1!==dust.config.cache&&(dust.cache[t]=e))},dust.render=function(t,e,r){var n=new Stub(r).head;try{load(t,n,e).end()}catch(t){n.setError(t)}},dust.stream=function(t,e){var r=new Stream,n=r.head;return dust.nextTick(function(){try{load(t,n,e).end()}catch(t){n.setError(t)}}),r},dust.loadSource=function(source){return eval(source)},Array.isArray?dust.isArray=Array.isArray:dust.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},dust.nextTick=function(t){setTimeout(t,0)},dust.isEmpty=function(t){return 0!==t&&(!(!dust.isArray(t)||t.length)||!t)},dust.isEmptyObject=function(t){if(null===t)return!1;if(void 0===t)return!1;if(0<t.length)return!1;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},dust.isTemplateFn=function(t){return"function"==typeof t&&t.__dustBody},dust.isThenable=function(t){return t&&"object"==typeof t&&"function"==typeof t.then},dust.isStreamable=function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pipe},dust.filter=function(t,e,r,n){var o,i,u,s;if(r)for(o=0,i=r.length;o<i;o++)(u=r[o]).length&&(s=dust.filters[u],"s"===u?e=null:"function"==typeof s?t=s(t,n):dust.log("Invalid filter `"+u+"`",WARN));return t=e?dust.filters[e](t,n):t},dust.filters={h:function(t){return dust.escapeHtml(t)},j:function(t){return dust.escapeJs(t)},u:encodeURI,uc:encodeURIComponent,js:function(t){return dust.escapeJSON(t)},jp:function(t){return JSON?JSON.parse(t):(dust.log("JSON is undefined; could not parse `"+t+"`",WARN),t)}},dust.makeBase=dust.context=function(t,e){return new Context(void 0,t,e)},dust.isContext=function(t){return"object"==typeof t&&!0===t._isContext},Context.wrap=function(t,e){return dust.isContext(t)?t:new Context(t,{},{},null,e)},Context.prototype.get=function(t,e){return"string"==typeof t&&("."===t[0]&&(e=!0,t=t.substr(1)),t=t.split(".")),this._get(e,t)},Context.prototype._get=function(t,e){var r,n,o,i=this.stack||{},u=1,s=e[0],c=e.length;if(t&&0===c)i=(n=i).head;else{if(t)i=i&&(i.head?i.head[s]:void 0);else{for(;i&&(!i.isObject||(n=i.head,void 0===(r=i.head[s])));)i=i.tail;i=void 0!==r?r:this.global&&this.global[s]}for(;i&&u<c;){if(dust.isThenable(i))return i.then(getWithResolvedData(this,t,e.slice(u)));i=(n=i)[e[u]],u++}}return"function"==typeof i?((o=function(){try{return i.apply(n,arguments)}catch(t){throw dust.log(t,ERROR),t}}).__dustBody=!!i.__dustBody,o):(void 0===i&&dust.log("Cannot find reference `{"+e.join(".")+"}` in template `"+this.getTemplateName()+"`",INFO),i)},Context.prototype.getPath=function(t,e){return this._get(t,e)},Context.prototype.push=function(t,e,r){return void 0===t?(dust.log("Not pushing an undefined variable onto the context",INFO),this):this.rebase(new Stack(t,this.stack,e,r))},Context.prototype.pop=function(){var t=this.current();return this.stack=this.stack&&this.stack.tail,t},Context.prototype.rebase=function(t){return new Context(t,this.global,this.options,this.blocks,this.getTemplateName())},Context.prototype.clone=function(){var t=this.rebase();return t.stack=this.stack,t},Context.prototype.current=function(){return this.stack&&this.stack.head},Context.prototype.getBlock=function(t){var e,r,n;if("function"==typeof t&&(t=t(new Chunk,this).data.join("")),!(e=this.blocks))return dust.log("No blocks for context `"+t+"` in template `"+this.getTemplateName()+"`",DEBUG),!1;for(r=e.length;r--;)if(n=e[r][t])return n;return dust.log("Malformed template `"+this.getTemplateName()+"` was missing one or more blocks."),!1},Context.prototype.shiftBlocks=function(t){var e=this.blocks;return t?(t=e?e.concat([t]):[t],new Context(this.stack,this.global,this.options,t,this.getTemplateName())):this},Context.prototype.resolve=function(t){return"function"==typeof t&&(t=(new Chunk).render(t,this))instanceof Chunk?t.data.join(""):t},Context.prototype.getTemplateName=function(){return this.templateName},Stub.prototype.flush=function(){for(var t=this.head;t;){if(!t.flushable)return t.error?(this.callback(t.error),dust.log("Rendering failed with error `"+t.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.out+=t.data.join(""),t=t.next,this.head=t}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var t=this.head;t;){if(!t.flushable)return t.error?(this.emit("error",t.error),this.emit("end"),dust.log("Streaming failed with error `"+t.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.emit("data",t.data.join("")),t=t.next,this.head=t}this.emit("end")},Stream.prototype.emit=function(t,e){var r,n,o=(this.events||{})[t]||[];if(!o.length)return dust.log("Stream broadcasting, but no listeners for `"+t+"`",DEBUG),!1;for(r=0,n=(o=o.slice(0)).length;r<n;r++)o[r](e);return!0},Stream.prototype.on=function(t,e){var r=this.events=this.events||{},r=r[t]=r[t]||[];return"function"!=typeof e?dust.log("No callback function provided for `"+t+"` event listener",WARN):r.push(e),this},Stream.prototype.pipe=function(e){if("function"!=typeof e.write||"function"!=typeof e.end)return dust.log("Incompatible stream passed to `pipe`",WARN),this;var r=!1;return"function"==typeof e.emit&&e.emit("pipe",this),"function"==typeof e.on&&e.on("error",function(){r=!0}),this.on("data",function(t){if(!r)try{e.write(t,"utf8")}catch(t){dust.log(t,ERROR)}}).on("end",function(){if(!r)try{e.end(),r=!0}catch(t){dust.log(t,ERROR)}})},Chunk.prototype.write=function(t){var e=this.taps;return e&&(t=e.go(t)),this.data.push(t),this},Chunk.prototype.end=function(t){return t&&this.write(t),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(t){var e=new Chunk(this.root,this.next,this.taps),r=new Chunk(this.root,e,this.taps);this.next=r,this.flushable=!0;try{t(r)}catch(t){dust.log(t,ERROR),r.setError(t)}return e},Chunk.prototype.tap=function(t){var e=this.taps;return this.taps=e?e.push(t):new Tap(t),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(t,e){return t(this,e)},Chunk.prototype.reference=function(t,e,r,n){return"function"==typeof t?(t=t.apply(e.current(),[this,e,null,{auto:r,filters:n}]))instanceof Chunk?t:this.reference(t,e,r,n):dust.isThenable(t)?this.await(t,e,null,r,n):dust.isStreamable(t)?this.stream(t,e,null,r,n):dust.isEmpty(t)?this:this.write(dust.filter(t,r,n,e))},Chunk.prototype.section=function(t,e,r,n){var o,i,u,s=r.block,c=r.else,a=this;if("function"==typeof t&&!dust.isTemplateFn(t)){try{t=t.apply(e.current(),[this,e,r,n])}catch(t){return dust.log(t,ERROR),this.setError(t)}if(t instanceof Chunk)return t}if(dust.isEmptyObject(r))return a;if(dust.isEmptyObject(n)||(e=e.push(n)),dust.isArray(t)){if(s){if(0<(i=t.length)){for((u=e.stack&&e.stack.head||{}).$len=i,o=0;o<i;o++)u.$idx=o,a=s(a,e.push(t[o],o,i));return u.$idx=void 0,u.$len=void 0,a}if(c)return c(this,e)}}else{if(dust.isThenable(t))return this.await(t,e,r);if(dust.isStreamable(t))return this.stream(t,e,r);if(!0===t){if(s)return s(this,e)}else if(t||0===t){if(s)return s(this,e.push(t))}else if(c)return c(this,e)}return dust.log("Section without corresponding key in template `"+e.getTemplateName()+"`",DEBUG),this},Chunk.prototype.exists=function(t,e,r){var n=r.block,r=r.else;if(dust.isEmpty(t)){if(r)return r(this,e)}else{if(n)return n(this,e);dust.log("No block for exists check in template `"+e.getTemplateName()+"`",DEBUG)}return this},Chunk.prototype.notexists=function(t,e,r){var n=r.block,r=r.else;if(dust.isEmpty(t)){if(n)return n(this,e);dust.log("No block for not-exists check in template `"+e.getTemplateName()+"`",DEBUG)}else if(r)return r(this,e);return this},Chunk.prototype.block=function(t,e,r){r=t||r.block;return r?r(this,e):this},Chunk.prototype.partial=function(t,e,r,n){var o;return void 0===n&&(n=r,r=e),dust.isEmptyObject(n)||(o=(r=r.clone()).pop(),r=r.push(n).push(o)),dust.isTemplateFn(t)?this.capture(t,e,function(t,e){load(r.templateName=t,e,r).end()}):load(r.templateName=t,this,r)},Chunk.prototype.helper=function(e,t,r,n,o){var i,u=this,s=n.filters;if(void 0===o&&(o="h"),!dust.helpers[e])return dust.log("Helper `"+e+"` does not exist",WARN),u;try{return(i=dust.helpers[e](u,t,r,n))instanceof Chunk?i:("string"==typeof s&&(s=s.split("|")),dust.isEmptyObject(r)?u.reference(i,t,o,s):u.section(i,t,r,n))}catch(t){return dust.log("Error in helper `"+e+"`: "+t.message,ERROR),u.setError(t)}},Chunk.prototype.await=function(t,n,o,e,i){return this.map(function(r){t.then(function(t){(r=o?r.section(t,n,o):r.reference(t,n,e,i)).end()},function(t){var e=o&&o.error;e?r.render(e,n.push(t)).end():(dust.log("Unhandled promise rejection in `"+n.getTemplateName()+"`",INFO),r.end())})})},Chunk.prototype.stream=function(t,o,i,u,s){var c=i&&i.block,e=i&&i.error;return this.map(function(r){var n=!1;t.on("data",function(e){n||(c?r=r.map(function(t){t.render(c,o.push(e)).end()}):i||(r=r.reference(e,o,u,s)))}).on("error",function(t){n||(e?r.render(e,o.push(t)):dust.log("Unhandled stream error in `"+o.getTemplateName()+"`",INFO),n||(n=!0,r.end()))}).on("end",function(){n||(n=!0,r.end())})})},Chunk.prototype.capture=function(e,n,o){return this.map(function(r){var t=new Stub(function(t,e){t?r.setError(t):o(e,r)});e(t.head,n).end()})},Chunk.prototype.setError=function(t){return this.error=t,this.root.flush(),this},Chunk.prototype)dust._aliases[f]&&(Chunk.prototype[dust._aliases[f]]=Chunk.prototype[f]);function Tap(t,e){this.head=t,this.tail=e}Tap.prototype.push=function(t){return new Tap(t,this)},Tap.prototype.go=function(t){for(var e=this;e;)t=e.head(t),e=e.tail;return t};var HCHARS=/[&<>"']/,AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(t){return"string"==typeof t||t&&"function"==typeof t.toString?("string"!=typeof t&&(t=t.toString()),HCHARS.test(t)?t.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):t):t};var BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;return dust.escapeJs=function(t){return"string"==typeof t?t.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):t},dust.escapeJSON=function(t){return JSON?JSON.stringify(t).replace(LS,"\\u2028").replace(PS,"\\u2029").replace(LT,"\\u003c"):(dust.log("JSON is undefined; could not escape `"+t+"`",WARN),t)},dust}),function(t,e){"function"==typeof define&&define.amd&&!0===define.amd.dust?define("dust.parse",["dust.core"],function(dust){return e(dust).parse}):"object"==typeof exports?module.exports=e(require("./dust")):e(t.dust)}(this,function(dust){var t,e,e=(t=fr,e=Error,r.prototype=e.prototype,t.prototype=new r,{SyntaxError:fr,parse:function(l){var t=1<arguments.length?arguments[1]:{},f={},e={start:Ie},r=Ie,n=function(t){return lr(["body"].concat(t))},s={type:"other",description:"section"},p=f,c=null,a=function(t,e,r,n){return n&&t[1].text===n.text||function(t){throw De(t,null,Te)}("Expected end tag for "+t[1].text+" but it was not found."),!0},d=void 0,h=function(t,e,r,n){return r.push(["param",["literal","block"],e]),t.push(r,["filters"]),lr(t)},m="/",y={type:"literal",value:"/",description:'"/"'},g=function(t){return t.push(["bodies"],["filters"]),lr(t)},v=/^[#?\^<+@%]/,b={type:"class",value:"[#?\\^<+@%]",description:"[#?\\^<+@%]"},x=function(t,e,r,n){return[t,e,r,n]},C={type:"other",description:"end tag"},N=function(t){return t},A=":",k={type:"literal",value:":",description:'":"'},i=function(t){return t},o=function(t){return t?["context",t]:["context"]},E={type:"other",description:"params"},R="=",S={type:"literal",value:"=",description:'"="'},w=function(t,e){return["param",["literal",t],e]},T=function(t){return["params"].concat(t)},O={type:"other",description:"bodies"},j=function(t){return["bodies"].concat(t)},u={type:"other",description:"reference"},F=function(t,e){return lr(["reference",t,e])},_={type:"other",description:"partial"},B=">",U={type:"literal",value:">",description:'">"'},L="+",D={type:"literal",value:"+",description:'"+"'},I=function(t){return["literal",t]},J=function(t,e,r,n){return lr([">"===t?"partial":t,e,r,n])},G={type:"other",description:"filters"},P="|",W={type:"literal",value:"|",description:'"|"'},z=function(t){return["filters"].concat(t)},$={type:"other",description:"special"},Q="~",H={type:"literal",value:"~",description:'"~"'},M=function(t){return lr(["special",t])},Z={type:"other",description:"identifier"},q=function(t){var e=["path"].concat(t);return e.text=t[1].join(".").replace(/,line,\d+,col,\d+/g,""),e},Y=function(t){var e=["key",t];return e.text=t,e},K={type:"other",description:"number"},V=function(t){return["literal",t]},X={type:"other",description:"float"},tt=".",et={type:"literal",value:".",description:'"."'},rt=function(t,e){return parseFloat(t+"."+e)},nt={type:"other",description:"unsigned_integer"},ot=/^[0-9]/,it={type:"class",value:"[0-9]",description:"[0-9]"},ut=function(t){return parseInt(t.join(""),10)},st={type:"other",description:"signed_integer"},ct="-",at={type:"literal",value:"-",description:'"-"'},lt=function(t,e){return-1*e},ft={type:"other",description:"integer"},pt={type:"other",description:"path"},dt=function(t,e){return e=e[0],t&&e?(e.unshift(t),lr([!1,e])):lr([!0,e])},ht=function(t){return 0<t.length?lr([!0,t[0]]):lr([!0,[]])},mt={type:"other",description:"key"},yt=/^[a-zA-Z_$]/,gt={type:"class",value:"[a-zA-Z_$]",description:"[a-zA-Z_$]"},vt=/^[0-9a-zA-Z_$\-]/,bt={type:"class",value:"[0-9a-zA-Z_$\\-]",description:"[0-9a-zA-Z_$\\-]"},xt=function(t,e){return t+e.join("")},Ct={type:"other",description:"array"},Nt=function(t){return t.join("")},At=function(t){return t},kt=function(t,e){return e?e.unshift(t):e=[t],e},Et={type:"other",description:"array_part"},Rt=function(t){return t},St=function(t,e){return e?t.concat(e):t},wt={type:"other",description:"inline"},Tt='"',Ot={type:"literal",value:'"',description:'"\\""'},jt=function(){return lr(["literal",""])},Ft=function(t){return lr(["literal",t])},_t=function(t){return lr(["body"].concat(t))},Bt=function(t){return["buffer",t]},Ut={type:"other",description:"buffer"},Lt=function(t,e){return lr(["format",t,e.join("")])},Dt={type:"any",description:"any character"},It=function(t){return t},Jt=function(t){return lr(["buffer",t.join("")])},Gt={type:"other",description:"literal"},Pt=/^[^"]/,Wt={type:"class",value:'[^"]',description:'[^"]'},zt=function(t){return t.join("")},$t='\\"',Qt={type:"literal",value:'\\"',description:'"\\\\\\""'},Ht=function(){return'"'},Mt={type:"other",description:"raw"},Zt="{`",qt={type:"literal",value:"{`",description:'"{`"'},Yt="`}",Kt={type:"literal",value:"`}",description:'"`}"'},Vt=function(t){return t},Xt=function(t){return lr(["raw",t.join("")])},te={type:"other",description:"comment"},ee="{!",re={type:"literal",value:"{!",description:'"{!"'},ne="!}",oe={type:"literal",value:"!}",description:'"!}"'},ie=function(t){return lr(["comment",t.join("")])},ue=/^[#?\^><+%:@\/~%]/,se={type:"class",value:"[#?\\^><+%:@\\/~%]",description:"[#?\\^><+%:@\\/~%]"},ce="{",ae={type:"literal",value:"{",description:'"{"'},le="}",fe={type:"literal",value:"}",description:'"}"'},pe="[",de={type:"literal",value:"[",description:'"["'},he="]",me={type:"literal",value:"]",description:'"]"'},ye="\n",ge={type:"literal",value:"\n",description:'"\\n"'},ve="\r\n",be={type:"literal",value:"\r\n",description:'"\\r\\n"'},xe="\r",Ce={type:"literal",value:"\r",description:'"\\r"'},Ne="\u2028",Ae={type:"literal",value:"\u2028",description:'"\\u2028"'},ke="\u2029",Ee={type:"literal",value:"\u2029",description:'"\\u2029"'},Re=/^[\t\x0B\f \xA0\uFEFF]/,Se={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},we=0,Te=0,Oe=0,je={line:1,column:1,seenCR:!1},Fe=0,_e=[],Be=0;if("startRule"in t){if(!(t.startRule in e))throw new Error("Can't start parsing from rule \""+t.startRule+'".');r=e[t.startRule]}function Ue(t){return Oe!==t&&(t<Oe&&(Oe=0,je={line:1,column:1,seenCR:!1}),function(t,e,r){for(var n,o=e;o<r;o++)"\n"===(n=l.charAt(o))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(je,Oe,t),Oe=t),je}function Le(t){we<Fe||(Fe<we&&(Fe=we,_e=[]),_e.push(t))}function De(t,e,r){var n=Ue(r),o=r<l.length?l.charAt(r):null;return null!==e&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(e),new fr(null!==t?t:function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n].description;function o(t){return t.charCodeAt(0).toString(16).toUpperCase()}return"Expected "+(1<t.length?r.slice(0,-1).join(", ")+" or "+r[t.length-1]:r[0])+" but "+(e?'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+o(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+o(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+o(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+o(t)})+'"':"end of input")+" found."}(e,o),e,o,r,n.line,n.column)}function Ie(){return Je()}function Je(){for(var t=we,e=[],r=Ge();r!==f;)e.push(r),r=Ge();return e!==f&&(Te=t,e=n(e)),t=e}function Ge(){var t=nr();return t=t===f&&(t=or())===f&&(t=function(){var t,e,r,n,o,i,u;if(Be++,t=we,(e=Pe())!==f){for(r=[],n=ar();n!==f;)r.push(n),n=ar();t=r!==f?(n=sr())!==f?(o=Je())!==f?(i=function(){var t,e,r,n,o,i,u;Be++,e=[],r=t=we,r=(n=ur())!==f?(58===l.charCodeAt(we)?(o=A,we++):(o=f,0===Be&&Le(k)),o!==f?(i=Ye())!==f?sr()!==f?(u=Je())!==f?(Te=r,n=w(i,u)):(we=r,p):(we=r,p):(we=r,p):(we=r,p)):(we=r,p);for(;r!==f;)e.push(r),r=we,n=ur(),r=n!==f?(58===l.charCodeAt(we)?(o=A,we++):(o=f,0===Be&&Le(k)),o!==f?(i=Ye())!==f?sr()!==f?(u=Je())!==f?(Te=r,n=w(i,u)):(we=r,p):(we=r,p):(we=r,p):(we=r,p)):(we=r,p);e!==f&&(Te=t,e=j(e));Be--,(t=e)===f&&(e=f,0===Be&&Le(O));return t}())!==f?(u=(u=function(){var t,e,r,n,o,i;if(Be++,t=we,ur()!==f)if(47===l.charCodeAt(we)?(e=m,we++):(e=f,0===Be&&Le(y)),e!==f){for(r=[],n=ar();n!==f;)r.push(n),n=ar();if(r!==f)if((n=He())!==f){for(o=[],i=ar();i!==f;)o.push(i),i=ar();t=o!==f?(i=sr())!==f?(Te=t,N(n)):(we=t,p):(we=t,p)}else we=t,t=p;else we=t,t=p}else we=t,t=p;else we=t,t=p;Be--,t===f&&(0===Be&&Le(C));return t}())===f?c:u)!==f?(Te=we,(a(e,o,i,u)?d:p)!==f?(Te=t,e=h(e,o,i,u)):(we=t,p)):(we=t,p):(we=t,p):(we=t,p):(we=t,p):(we=t,p)}else we=t,t=p;if(t===f)if(t=we,(e=Pe())!==f){for(r=[],n=ar();n!==f;)r.push(n),n=ar();t=r!==f?(47===l.charCodeAt(we)?(n=m,we++):(n=f,0===Be&&Le(y)),n!==f?(o=sr())!==f?(Te=t,e=g(e)):(we=t,p):(we=t,p)):(we=t,p)}else we=t,t=p;Be--,t===f&&(e=f,0===Be&&Le(s));return t}())===f&&(t=function(){var t,e,r,n,o,i,u,s;if(Be++,t=we,ur()!==f)if(62===l.charCodeAt(we)?(e=B,we++):(e=f,0===Be&&Le(U)),e===f&&(43===l.charCodeAt(we)?(e=L,we++):(e=f,0===Be&&Le(D))),e!==f){for(r=[],n=ar();n!==f;)r.push(n),n=ar();if(r!==f)if(n=we,(o=Ye())!==f&&(Te=n,o=I(o)),(n=(n=o)===f?Xe():n)!==f)if((o=We())!==f)if((i=ze())!==f){for(u=[],s=ar();s!==f;)u.push(s),s=ar();t=u!==f?(47===l.charCodeAt(we)?(s=m,we++):(s=f,0===Be&&Le(y)),s!==f?sr()!==f?(Te=t,J(e,n,o,i)):(we=t,p):(we=t,p)):(we=t,p)}else we=t,t=p;else we=t,t=p;else we=t,t=p;else we=t,t=p}else we=t,t=p;else we=t,t=p;Be--,t===f&&(0===Be&&Le(_));return t}())===f&&(t=Qe())===f&&(t=$e())===f?function(){var t,e,r,n,o,i,u,s;if(Be++,t=we,(e=cr())!==f){for(r=[],n=ar();n!==f;)r.push(n),n=ar();t=r!==f?(Te=t,e=Lt(e,r)):(we=t,p)}else we=t,t=p;if(t===f){if(e=[],n=r=t=we,Be++,o=ir(),Be--,n=o===f?d:(we=n,p),(r=n!==f?(o=we,Be++,i=nr(),Be--,(o=i===f?d:(we=o,p))!==f?(i=we,Be++,u=or(),Be--,(i=u===f?d:(we=i,p))!==f?(u=we,Be++,s=cr(),Be--,(u=s===f?d:(we=u,p))!==f?(l.length>we?(s=l.charAt(we),we++):(s=f,0===Be&&Le(Dt)),s!==f?(Te=r,n=It(s)):(we=r,p)):(we=r,p)):(we=r,p)):(we=r,p)):(we=r,p))!==f)for(;r!==f;)e.push(r),n=r=we,Be++,o=ir(),Be--,n=o===f?d:(we=n,p),r=n!==f?(o=we,Be++,i=nr(),Be--,(o=i===f?d:(we=o,p))!==f?(i=we,Be++,u=or(),Be--,(i=u===f?d:(we=i,p))!==f?(u=we,Be++,s=cr(),Be--,(u=s===f?d:(we=u,p))!==f?(l.length>we?(s=l.charAt(we),we++):(s=f,0===Be&&Le(Dt)),s!==f?(Te=r,n=It(s)):(we=r,p)):(we=r,p)):(we=r,p)):(we=r,p)):(we=r,p);else e=p;e!==f&&(Te=t,e=Jt(e)),t=e}Be--,t===f&&(e=f,0===Be&&Le(Ut));return t}():t}function Pe(){var t,e,r,n,o,i=we,u=ur();if(u!==f)if(v.test(l.charAt(we))?(t=l.charAt(we),we++):(t=f,0===Be&&Le(b)),t!==f){for(e=[],r=ar();r!==f;)e.push(r),r=ar();i=e!==f&&(r=He())!==f&&(n=We())!==f&&(o=ze())!==f?(Te=i,x(t,r,n,o)):(we=i,p)}else we=i,i=p;else we=i,i=p;return i}function We(){var t,e,r=we,n=we;return 58===l.charCodeAt(we)?(t=A,we++):(t=f,0===Be&&Le(k)),(n=(n=t!==f&&(e=He())!==f?(Te=n,t=i(e)):(we=n,p))===f?c:n)!==f&&(Te=r,n=o(n)),r=n}function ze(){var t,e,r,n,o,i,u;if(Be++,e=[],r=t=we,n=[],(o=ar())!==f)for(;o!==f;)n.push(o),o=ar();else n=p;for(r=n!==f&&(o=Ye())!==f?(61===l.charCodeAt(we)?(i=R,we++):(i=f,0===Be&&Le(S)),i!==f&&(u=(u=Me())===f&&(u=He())===f?Xe():u)!==f?(Te=r,n=w(o,u)):(we=r,p)):(we=r,p);r!==f;){if(e.push(r),r=we,n=[],(o=ar())!==f)for(;o!==f;)n.push(o),o=ar();else n=p;r=n!==f&&(o=Ye())!==f?(61===l.charCodeAt(we)?(i=R,we++):(i=f,0===Be&&Le(S)),i!==f&&(u=(u=Me())===f&&(u=He())===f?Xe():u)!==f?(Te=r,n=w(o,u)):(we=r,p)):(we=r,p)}return e!==f&&(Te=t,e=T(e)),Be--,(t=e)===f&&(e=f,0===Be&&Le(E)),t}function $e(){var t,e,r;return Be++,t=we,t=ur()!==f&&(e=He())!==f&&(r=function(){var t,e,r,n,o;Be++,e=[],r=t=we,124===l.charCodeAt(we)?(n=P,we++):(n=f,0===Be&&Le(W));r=n!==f?(o=Ye(),o!==f?(Te=r,n=i(o)):(we=r,p)):(we=r,p);for(;r!==f;)e.push(r),r=we,124===l.charCodeAt(we)?(n=P,we++):(n=f,0===Be&&Le(W)),r=n!==f?(o=Ye())!==f?(Te=r,n=i(o)):(we=r,p):(we=r,p);e!==f&&(Te=t,e=z(e));Be--,(t=e)===f&&(e=f,0===Be&&Le(G));return t}())!==f&&sr()!==f?(Te=t,F(e,r)):(we=t,p),Be--,t===f&&(0===Be&&Le(u)),t}function Qe(){var t,e,r;return Be++,t=we,t=ur()!==f?(126===l.charCodeAt(we)?(e=Q,we++):(e=f,0===Be&&Le(H)),e!==f&&(r=Ye())!==f&&sr()!==f?(Te=t,M(r)):(we=t,p)):(we=t,p),Be--,t===f&&(0===Be&&Le($)),t}function He(){var t,e;return Be++,t=we,(e=function(){var t,e,r,n;Be++,t=we,(e=Ye())===f&&(e=c);if(e!==f){if(r=[],(n=(n=Ve())===f?Ke():n)!==f)for(;n!==f;)r.push(n),(n=Ve())===f&&(n=Ke());else r=p;t=r!==f?(Te=t,e=dt(e,r)):(we=t,p)}else we=t,t=p;if(t===f)if(t=we,46===l.charCodeAt(we)?(e=tt,we++):(e=f,0===Be&&Le(et)),e!==f){for(r=[],(n=Ve())===f&&(n=Ke());n!==f;)r.push(n),(n=Ve())===f&&(n=Ke());t=r!==f?(Te=t,e=ht(r)):(we=t,p)}else we=t,t=p;Be--,t===f&&(e=f,0===Be&&Le(pt));return t}())!==f&&(Te=t,e=q(e)),(t=e)===f&&(t=we,(e=Ye())!==f&&(Te=t,e=Y(e)),t=e),Be--,t===f&&(e=f,0===Be&&Le(Z)),t}function Me(){var t,e;return Be++,t=we,(e=(e=function(){var t,e,r;Be++,t=we,t=(e=qe())!==f?(46===l.charCodeAt(we)?(r=tt,we++):(r=f,0===Be&&Le(et)),r!==f?(r=Ze())!==f?(Te=t,e=rt(e,r)):(we=t,p):(we=t,p)):(we=t,p);Be--,t===f&&(e=f,0===Be&&Le(X));return t}())===f?qe():e)!==f&&(Te=t,e=V(e)),Be--,(t=e)===f&&(e=f,0===Be&&Le(K)),t}function Ze(){var t,e,r;if(Be++,t=we,e=[],ot.test(l.charAt(we))?(r=l.charAt(we),we++):(r=f,0===Be&&Le(it)),r!==f)for(;r!==f;)e.push(r),ot.test(l.charAt(we))?(r=l.charAt(we),we++):(r=f,0===Be&&Le(it));else e=p;return e!==f&&(Te=t,e=ut(e)),Be--,(t=e)===f&&(e=f,0===Be&&Le(nt)),t}function qe(){var t,e,r;return Be++,Be++,t=we,45===l.charCodeAt(we)?(e=ct,we++):(e=f,0===Be&&Le(at)),t=e!==f&&(r=Ze())!==f?(Te=t,e=lt(e,r)):(we=t,p),Be--,t===f&&(e=f,0===Be&&Le(st)),(t=t)===f&&(t=Ze()),Be--,t===f&&(0===Be&&Le(ft)),t}function Ye(){var t,e,r,n;if(Be++,t=we,yt.test(l.charAt(we))?(e=l.charAt(we),we++):(e=f,0===Be&&Le(gt)),e!==f){for(r=[],vt.test(l.charAt(we))?(n=l.charAt(we),we++):(n=f,0===Be&&Le(bt));n!==f;)r.push(n),vt.test(l.charAt(we))?(n=l.charAt(we),we++):(n=f,0===Be&&Le(bt));t=r!==f?(Te=t,e=xt(e,r)):(we=t,p)}else we=t,t=p;return Be--,t===f&&(e=f,0===Be&&Le(mt)),t}function Ke(){var t,e,r,n,o,i;if(Be++,e=t=we,(r=function(){var t;91===l.charCodeAt(we)?(t=pe,we++):(t=f,0===Be&&Le(de));return t}())!==f){if(n=we,o=[],ot.test(l.charAt(we))?(i=l.charAt(we),we++):(i=f,0===Be&&Le(it)),i!==f)for(;i!==f;)o.push(i),ot.test(l.charAt(we))?(i=l.charAt(we),we++):(i=f,0===Be&&Le(it));else o=p;o!==f&&(Te=n,o=Nt(o)),e=(n=(n=o)===f?He():n)!==f&&(o=function(){var t;93===l.charCodeAt(we)?(t=he,we++):(t=f,0===Be&&Le(me));return t}())!==f?(Te=e,r=At(n)):(we=e,p)}else we=e,e=p;return t=e!==f&&(r=(r=Ve())===f?c:r)!==f?(Te=t,e=kt(e,r)):(we=t,p),Be--,t===f&&(e=f,0===Be&&Le(Ct)),t}function Ve(){var t,e,r,n,o;if(Be++,e=[],r=t=we,46===l.charCodeAt(we)?(n=tt,we++):(n=f,0===Be&&Le(et)),(r=n!==f&&(o=Ye())!==f?(Te=r,n=Rt(o)):(we=r,p))!==f)for(;r!==f;)e.push(r),r=we,46===l.charCodeAt(we)?(n=tt,we++):(n=f,0===Be&&Le(et)),r=n!==f&&(o=Ye())!==f?(Te=r,n=Rt(o)):(we=r,p);else e=p;return t=e!==f&&(r=(r=Ke())===f?c:r)!==f?(Te=t,e=St(e,r)):(we=t,p),Be--,t===f&&(e=f,0===Be&&Le(Et)),t}function Xe(){var t,e,r,n;if(Be++,t=we,34===l.charCodeAt(we)?(e=Tt,we++):(e=f,0===Be&&Le(Ot)),t=e!==f?(34===l.charCodeAt(we)?(r=Tt,we++):(r=f,0===Be&&Le(Ot)),r!==f?(Te=t,e=jt()):(we=t,p)):(we=t,p),t===f&&(t=we,34===l.charCodeAt(we)?(e=Tt,we++):(e=f,0===Be&&Le(Ot)),(t=e!==f&&(r=er())!==f?(34===l.charCodeAt(we)?(n=Tt,we++):(n=f,0===Be&&Le(Ot)),n!==f?(Te=t,e=Ft(r)):(we=t,p)):(we=t,p))===f))if(t=we,34===l.charCodeAt(we)?(e=Tt,we++):(e=f,0===Be&&Le(Ot)),e!==f){if(r=[],(n=tr())!==f)for(;n!==f;)r.push(n),n=tr();else r=p;t=r!==f?(34===l.charCodeAt(we)?(n=Tt,we++):(n=f,0===Be&&Le(Ot)),n!==f?(Te=t,e=_t(r)):(we=t,p)):(we=t,p)}else we=t,t=p;return Be--,t===f&&(e=f,0===Be&&Le(wt)),t}function tr(){var t,e=Qe();return e===f&&(e=$e())===f&&(e=we,(t=er())!==f&&(Te=e,t=Bt(t)),e=t),e}function er(){var t,e,r,n,o;if(Be++,e=[],n=r=t=we,Be++,o=ir(),Be--,(r=(n=o===f?d:(we=n,p))!==f?((o=rr())===f&&(Pt.test(l.charAt(we))?(o=l.charAt(we),we++):(o=f,0===Be&&Le(Wt))),o!==f?(Te=r,n=It(o)):(we=r,p)):(we=r,p))!==f)for(;r!==f;)e.push(r),n=r=we,Be++,o=ir(),Be--,r=(n=o===f?d:(we=n,p))!==f?((o=rr())===f&&(Pt.test(l.charAt(we))?(o=l.charAt(we),we++):(o=f,0===Be&&Le(Wt))),o!==f?(Te=r,n=It(o)):(we=r,p)):(we=r,p);else e=p;return e!==f&&(Te=t,e=zt(e)),Be--,(t=e)===f&&(e=f,0===Be&&Le(Gt)),t}function rr(){var t,e=we;return l.substr(we,2)===$t?(t=$t,we+=2):(t=f,0===Be&&Le(Qt)),t!==f&&(Te=e,t=Ht()),e=t}function nr(){var t,e,r,n,o,i;if(Be++,t=we,l.substr(we,2)===Zt?(e=Zt,we+=2):(e=f,0===Be&&Le(qt)),e!==f){for(r=[],o=n=we,Be++,l.substr(we,2)===Yt?(i=Yt,we+=2):(i=f,0===Be&&Le(Kt)),Be--,n=(o=i===f?d:(we=o,p))!==f?(l.length>we?(i=l.charAt(we),we++):(i=f,0===Be&&Le(Dt)),i!==f?(Te=n,o=Vt(i)):(we=n,p)):(we=n,p);n!==f;)r.push(n),o=n=we,Be++,l.substr(we,2)===Yt?(i=Yt,we+=2):(i=f,0===Be&&Le(Kt)),Be--,n=(o=i===f?d:(we=o,p))!==f?(l.length>we?(i=l.charAt(we),we++):(i=f,0===Be&&Le(Dt)),i!==f?(Te=n,o=Vt(i)):(we=n,p)):(we=n,p);t=r!==f?(l.substr(we,2)===Yt?(n=Yt,we+=2):(n=f,0===Be&&Le(Kt)),n!==f?(Te=t,e=Xt(r)):(we=t,p)):(we=t,p)}else we=t,t=p;return Be--,t===f&&(e=f,0===Be&&Le(Mt)),t}function or(){var t,e,r,n,o,i;if(Be++,t=we,l.substr(we,2)===ee?(e=ee,we+=2):(e=f,0===Be&&Le(re)),e!==f){for(r=[],o=n=we,Be++,l.substr(we,2)===ne?(i=ne,we+=2):(i=f,0===Be&&Le(oe)),Be--,n=(o=i===f?d:(we=o,p))!==f?(l.length>we?(i=l.charAt(we),we++):(i=f,0===Be&&Le(Dt)),i!==f?(Te=n,o=It(i)):(we=n,p)):(we=n,p);n!==f;)r.push(n),o=n=we,Be++,l.substr(we,2)===ne?(i=ne,we+=2):(i=f,0===Be&&Le(oe)),Be--,n=(o=i===f?d:(we=o,p))!==f?(l.length>we?(i=l.charAt(we),we++):(i=f,0===Be&&Le(Dt)),i!==f?(Te=n,o=It(i)):(we=n,p)):(we=n,p);t=r!==f?(l.substr(we,2)===ne?(n=ne,we+=2):(n=f,0===Be&&Le(oe)),n!==f?(Te=t,e=ie(r)):(we=t,p)):(we=t,p)}else we=t,t=p;return Be--,t===f&&(e=f,0===Be&&Le(te)),t}function ir(){var t,e,r,n,o,i,u,s,c=we,a=ur();if(a!==f){for(t=[],e=ar();e!==f;)t.push(e),e=ar();if(t!==f)if(ue.test(l.charAt(we))?(e=l.charAt(we),we++):(e=f,0===Be&&Le(se)),e!==f){for(r=[],n=ar();n!==f;)r.push(n),n=ar();if(r!==f){if(n=[],i=o=we,Be++,u=sr(),Be--,(o=(i=u===f?d:(we=i,p))!==f?(u=we,Be++,s=cr(),Be--,(u=s===f?d:(we=u,p))!==f?(l.length>we?(s=l.charAt(we),we++):(s=f,0===Be&&Le(Dt)),s!==f?i=[i,u,s]:(we=o,p)):(we=o,p)):(we=o,p))!==f)for(;o!==f;)n.push(o),i=o=we,Be++,u=sr(),Be--,o=(i=u===f?d:(we=i,p))!==f?(u=we,Be++,s=cr(),Be--,(u=s===f?d:(we=u,p))!==f?(l.length>we?(s=l.charAt(we),we++):(s=f,0===Be&&Le(Dt)),s!==f?i=[i,u,s]:(we=o,p)):(we=o,p)):(we=o,p);else n=p;if(n!==f){for(o=[],i=ar();i!==f;)o.push(i),i=ar();c=o!==f&&(i=sr())!==f?[a,t,e,r,n,o,i]:(we=c,p)}else we=c,c=p}else we=c,c=p}else we=c,c=p;else we=c,c=p}else we=c,c=p;return c=c===f?$e():c}function ur(){var t;return 123===l.charCodeAt(we)?(t=ce,we++):(t=f,0===Be&&Le(ae)),t}function sr(){var t;return 125===l.charCodeAt(we)?(t=le,we++):(t=f,0===Be&&Le(fe)),t}function cr(){var t;return 10===l.charCodeAt(we)?(t=ye,we++):(t=f,0===Be&&Le(ge)),t===f&&(l.substr(we,2)===ve?(t=ve,we+=2):(t=f,0===Be&&Le(be)),t===f&&(13===l.charCodeAt(we)?(t=xe,we++):(t=f,0===Be&&Le(Ce)),t===f&&(8232===l.charCodeAt(we)?(t=Ne,we++):(t=f,0===Be&&Le(Ae)),t===f&&(8233===l.charCodeAt(we)?(t=ke,we++):(t=f,0===Be&&Le(Ee)))))),t}function ar(){var t;return Re.test(l.charAt(we))?(t=l.charAt(we),we++):(t=f,0===Be&&Le(Se)),t=t===f?cr():t}function lr(t){return t.concat([["line",Ue(Te).line],["col",Ue(Te).column]])}if((r=r())!==f&&we===l.length)return r;throw r!==f&&we<l.length&&Le({type:"end",description:"end of input"}),De(null,_e,Fe)}});function fr(t,e,r,n,o,i){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=i,this.name="SyntaxError"}function r(){this.constructor=t}return dust.parse=e.parse,e}),function(t,e){"function"==typeof define&&define.amd&&!0===define.amd.dust?define("dust.compile",["dust.core","dust.parse"],function(dust,t){return e(t,dust).compile}):"object"==typeof exports?module.exports=e(require("./parser").parse,require("./dust")):e(t.dust.parse,t.dust)}(this,function(n,dust){var f={},s=dust.isArray;function t(t,e){for(var r,n=[e[0]],o=1,i=e.length;o<i;o++)(r=f.filterNode(t,e[o]))&&n.push(r);return n}f.compile=function(t,e){try{return function(t,e){var r={name:e,bodies:[],blocks:{},index:0,auto:"h"},n=dust.escapeJs(e),o=e?'"'+n+'",':"",i="function(dust){",t=f.compileNode(r,t);e&&(i+='dust.register("'+n+'",'+t+");");return i+=function(t){var e,r=[],n=t.blocks;for(e in n)r.push('"'+e+'":'+n[e]);{if(r.length)return t.blocks="ctx=ctx.shiftBlocks(blocks);","var blocks={"+r.join(",")+"};";t.blocks=""}return t.blocks}(r)+function(t){var e,r,n=[],o=t.bodies,i=t.blocks;for(e=0,r=o.length;e<r;e++)n[e]="function body_"+e+"(chk,ctx){"+i+"return chk"+o[e]+";}body_"+e+".__dustBody=!0;";return n.join("")}(r)+"return "+t+"}",t="("+i+"(dust));",dust.config.amd?"define("+o+'["dust.core"],'+i+");":dust.config.cjs?"module.exports=function(dust){var tmpl="+t+"var f="+y().toString()+";f.template=tmpl;return f}":t}((r=n(t),f.filterNode({},r)),e)}catch(t){if(!t.line||!t.column)throw t;throw new SyntaxError(t.message+" At line : "+t.line+", column : "+t.column)}var r},f.filterNode=function(t,e){return f.optimizers[e[0]](t,e)},f.optimizers={body:function(t,e){var r,n,o,i,u=[e[0]];for(n=1,o=e.length;n<o;n++)(i=f.filterNode(t,e[n]))&&("buffer"===i[0]||"format"===i[0]?r?(r[0]="buffer"===i[0]?"buffer":r[0],r[1]+=i.slice(1,-2).join("")):(r=i,u.push(i)):(r=null,u.push(i)));return u},buffer:e,special:function(t,e){return["buffer",r[e[1]],e[2],e[3]]},format:function(t,e){if(dust.config.whitespace)return e.splice(1,2,e.slice(1,-2).join("")),e;return null},reference:t,"#":t,"?":t,"^":t,"<":t,"+":t,"@":t,"%":t,partial:t,context:t,params:t,bodies:t,param:t,filters:e,key:e,path:e,literal:e,raw:e,comment:o,line:o,col:o},f.pragmas={esc:function(t,e,r){var n=t.auto;return e=e||"h",t.auto="s"===e?"":e,r=i(t,r.block),t.auto=n,r}};var r={s:" ",n:"\n",r:"\r",lb:"{",rb:"}"};function e(t,e){return e}function o(){}function i(t,e){for(var r="",n=1,o=e.length;n<o;n++)r+=f.compileNode(t,e[n]);return r}function u(t,e,r){return"."+(dust._aliases[r]||r)+"("+f.compileNode(t,e[1])+","+f.compileNode(t,e[2])+","+f.compileNode(t,e[4])+","+f.compileNode(t,e[3])+")"}f.compileNode=function(t,e){return f.nodes[e[0]](t,e)},f.nodes={body:function(t,e){var r=t.index++,n="body_"+r;return t.bodies[r]=i(t,e),n},buffer:function(t,e){return".w("+m(e[1])+")"},format:function(t,e){return".w("+m(e[1])+")"},reference:function(t,e){return".f("+f.compileNode(t,e[1])+",ctx,"+f.compileNode(t,e[2])+")"},"#":function(t,e){return u(t,e,"section")},"?":function(t,e){return u(t,e,"exists")},"^":function(t,e){return u(t,e,"notexists")},"<":function(t,e){for(var r=e[4],n=1,o=r.length;n<o;n++){var i=r[n];if("block"===i[1][1])return t.blocks[e[1].text]=f.compileNode(t,i[2]),""}return""},"+":function(t,e){return void 0===e[1].text&&void 0===e[4]?".b(ctx.getBlock("+f.compileNode(t,e[1])+",chk, ctx),"+f.compileNode(t,e[2])+", {},"+f.compileNode(t,e[3])+")":".b(ctx.getBlock("+m(e[1].text)+"),"+f.compileNode(t,e[2])+","+f.compileNode(t,e[4])+","+f.compileNode(t,e[3])+")"},"@":function(t,e){return".h("+m(e[1].text)+","+f.compileNode(t,e[2])+","+f.compileNode(t,e[4])+","+f.compileNode(t,e[3])+","+f.compileNode(t,e[5])+")"},"%":function(t,e){var r,n,o,i,u,s,c,a,l=e[1][1];if(!f.pragmas[l])return"";for(n={},c=1,a=(r=e[4]).length;c<a;c++)n[(u=r[c])[1][1]]=u[2];for(i={},c=1,a=(o=e[3]).length;c<a;c++)i[(s=o[c])[1][1]]=s[2][1];return e=e[2][1]?e[2][1].text:null,f.pragmas[l](t,e,n,i)},partial:function(t,e){return".p("+f.compileNode(t,e[1])+",ctx,"+f.compileNode(t,e[2])+","+f.compileNode(t,e[3])+")"},context:function(t,e){return e[1]?"ctx.rebase("+f.compileNode(t,e[1])+")":"ctx"},params:function(t,e){for(var r=[],n=1,o=e.length;n<o;n++)r.push(f.compileNode(t,e[n]));return r.length?"{"+r.join(",")+"}":"{}"},bodies:function(t,e){for(var r=[],n=1,o=e.length;n<o;n++)r.push(f.compileNode(t,e[n]));return"{"+r.join(",")+"}"},param:function(t,e){return f.compileNode(t,e[1])+":"+f.compileNode(t,e[2])},filters:function(t,e){for(var r=[],n=1,o=e.length;n<o;n++){var i=e[n];r.push('"'+i+'"')}return'"'+t.auto+'"'+(r.length?",["+r.join(",")+"]":"")},key:function(t,e){return'ctx.get(["'+e[1]+'"], false)'},path:function(t,e){for(var r=e[1],n=e[2],o=[],i=0,u=n.length;i<u;i++)s(n[i])?o.push(f.compileNode(t,n[i])):o.push('"'+n[i]+'"');return"ctx.getPath("+r+", ["+o.join(",")+"])"},literal:function(t,e){return m(e[1])},raw:function(t,e){return".w("+m(e[1])+")"}};var c=/\\/g,a=/"/g,l=/\f/g,p=/\n/g,d=/\r/g,h=/\t/g;var m="undefined"==typeof JSON?function(t){return'"'+t.replace(c,"\\\\").replace(a,'\\"').replace(l,"\\f").replace(p,"\\n").replace(d,"\\r").replace(h,"\\t")+'"'}:JSON.stringify;function y(r){return function(t,e){return dust[e?"render":"stream"](r,t,e)}}return dust.compiler=f,dust.compile=dust.compiler.compile,dust.renderSource=function(t,e,r){return y(dust.loadSource(dust.compile(t)))(e,r)},dust.compileFn=function(t,e){return y(dust.loadSource(dust.compile(t,e)))},dust.filterNode=f.filterNode,dust.optimizers=f.optimizers,dust.pragmas=f.pragmas,dust.compileNode=f.compileNode,dust.nodes=f.nodes,f}),"function"==typeof define&&define.amd&&!0===define.amd.dust&&define(["require","dust.core","dust.compile"],function(require,dust){return dust.onLoad=function(t,e){require([t],function(){e()})},dust});